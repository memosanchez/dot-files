Please perform a thorough code review of the recent changes, focusing on:

1. **Logic & Correctness**: Check for bugs, edge cases, and logical errors
2. **Code Quality**: Assess readability, maintainability, and adherence to best practices
3. **Performance**: Identify potential performance issues or inefficiencies
4. **Security**: Look for security vulnerabilities or unsafe patterns
5. **Testing**: Evaluate test coverage and suggest additional test cases
6. **Documentation**: Check if code is well-documented and self-explanatory

Provide specific, actionable feedback with file paths and line numbers where applicable.
